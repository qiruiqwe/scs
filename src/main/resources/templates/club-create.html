<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
	<head th:replace="_fragments :: head(~{::title})">
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<title>创建社团</title>

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="../static/css/bootstrap.min.css">
		<link rel="stylesheet" href="../static/css/line-icons.css">
		<link rel="stylesheet" href="../static/css/owl.carousel.css">
		<link rel="stylesheet" href="../static/css/owl.theme.css">
		<link rel="stylesheet" href="../static/css/nivo-lightbox.css">
		<link rel="stylesheet" href="../static/css/magnific-popup.css">
		<link rel="stylesheet" href="../static/css/animate.css">
		<link rel="stylesheet" href="../static/css/menu_sideslide.css">
		<link rel="stylesheet" href="../static/css/main.css">
		<link rel="stylesheet" href="../static/css/responsive.css">
		<link rel="stylesheet" type="text/css" href="../static/css/qi.css" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.css">
		<link rel="stylesheet" href="../static/lib/editormd/css/editormd.min.css">
	</head>

	<body>
		<!-- Header Section Start -->
		<header id="slider-area">
			<nav class="navbar navbar-expand-lg fixed-top scrolling-navbar  bg-white" th:replace="_fragments :: menu">
				<div class="container">
					<a class="navbar-brand" href="#" style="color: #F97794;"><span class="lni-bulb"></span>社团联合会</a>
					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse"
					 aria-expanded="false" aria-label="Toggle navigation">
						<i class="lni-menu"></i>
					</button>
					<div class="collapse navbar-collapse" id="navbarCollapse">
						<ul class="navbar-nav mr-auto w-100 justify-content-end">
							<li class="nav-item">
								<a class="nav-link page-scroll" href="#">首页</a>
							</li>
							<li class="nav-item">
								<a class="nav-link page-scroll" href="#">社团介绍</a>
							</li>
							<li class="nav-item">
								<a class="nav-link page-scroll" href="#">社团活动</a>
							</li>
							<li class="nav-item">
								<a class="nav-link page-scroll" href="#">社团新闻</a>
							</li>
							<li class="nav-item">
								<a class="nav-link page-scroll" href="#">登录</a>
							</li>
							<li class="nav-item">
								<a class="nav-link page-scroll" href="#">注册</a>
							</li>
							<li class="nav-item">
								<a class="nav-link page-scroll" href="#">注销</a>
							</li>
							<li class="nav-item">
								<a class="nav-link page-scroll" href="#">个人中心</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>
		<!-- Header Section End -->
		<br>
		<br>
		<br><br>
		<!--中间内容-->
		<div class="m-container m-padded-tb-big">
			<div class="ui container">
				<form id="blog-form" action="#" th:object ="${club}"  th:action="@{/club/create}" method="post" class="ui form">
					<input type="hidden" name="id" th:field="*{id}">
					<div class="required field">
						<div class="ui left labeled input">
							<div class="ui selection compact pink basic dropdown label">
								<div class="text">社团名称</div>
							</div>
							<input type="text" name="name" placeholder="社团名称" th:field="*{name}"> >
						</div>
					</div>
					<div class="required field">
						<textarea name="description"  placeholder="简要描述<200..." maxlength="200" th:field="*{description}"></textarea>
					</div>
					<div class="required field">
						<div id="md-content" style="z-index: 1 !important;">
							<textarea placeholder="社团介绍" name="content" style="display: none" th:field="*{content}"></textarea>
						</div>
					</div>

					<div class="two fields">
						<div class="required field">
							<div class="ui left labeled input">
								<div class="ui selection compact pink basic dropdown label">
									<div class="text">学院</div>
								</div>
								<input type="text" th:value="${session.user.academy.name}" disabled="disabled" placeholder="学院" >
							</div>
						</div>
					</div>

					<div class="ui error message"></div>
					
					<div class="ui right aligned container">
						<button type="button" class="ui button" onclick="window.history.go(-1)">返回</button>
						<button type="button" id="publish-btn" class="ui pink button">创建</button>
					</div>
				</form>
			</div>
		</div>
		<br>
		<br>
		<!-- Footer Section Start -->
		<footer th:replace="_fragments :: footer">
			<!-- Copyright Start  -->
			<div id="copyright">
				<div class="m-container-small container">
					<div class="row">
						<div class="col-md-12">
							<div class="site-info float-left">
								<p>聊城大学 &emsp;巫_月</p>
							</div>
							<div class="float-right">
								<ul class="nav nav-inline">
									<li class="nav-item">
										<a class="nav-link active" href="#">关于</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="#">QQ</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="#">CSDN</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" href="#">博客</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Copyright End -->

		</footer>
		<!-- Footer Section End -->

		<!--/*/<th:block th:replace="_fragments :: script">/*/-->
		<script src="../static/js/wow.js" th:src="@{/js/wow.js}"></script>
		<script src="../static/js/jquery-min.js"  th:src="@{/js/jquery-min.js}"></script>
		<script src="../static/js/bootstrap.min.js"  th:src="@{/js/bootstrap.min.js}"></script>
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.js"></script>
		<script src="../static/lib/editormd/editormd.min.js"></script>
		<!--/*/</th:block>/*/-->
		<script>
			//初始化Markdown编辑器
			var contentEditor;
			$(function() {
				contentEditor = editormd("md-content", {
					width: "100%",
					height: 640,
					syncScrolling: "single",
					path: "/lib/editormd/lib/"
					// path: "../static/lib/editormd/lib/"

				});
			});
			$('.menu.toggle').click(function() {
				$('.m-item').toggleClass('m-mobile-hide');
			});

			$('.ui.dropdown').dropdown({
				on: 'hover'
			});

			$('#save-btn').click(function() {
				$('[name="published"]').val(false);
				$('#blog-form').submit();
			});


			$('#publish-btn').click(function() {
				$('[name="published"]').val(true);
				$('#blog-form').submit();
			});

			$('.ui.form').form({
				fields: {
					title: {
						identifier: 'name',
						rules: [{
							type: 'empty',
							prompt: '标题：请输入社团名称'
						}]
					},
					content: {
						identifier: 'content',
						rules: [{
							type: 'empty',
							prompt: '标题：请输入博客内容'
						}]
					},
					description: {
						identifier: 'description',
						rules: [{
							type: 'empty',
							prompt: '标题：请输入博客描述'
						},{
							type   : 'maxLength[200]',
							prompt : '标题：社团描述最多200字'
						}]
					}
				}
			});
		</script>

	</body>
</html>
